<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
	<title>Guide App</title>
	<link rel="stylesheet" type="text/css" href="../../css/style.css" />
	<link rel="stylesheet" type="text/css" href="../../css/sample.css" />
	<script type="text/javascript" src="../../js/mcore.min.js"></script>
	<Script>
		$(document).ready(function() {
			$('.tree li input + label').click(function() {		
				$(this).parents('.tree').find('.label-clicked').removeClass('label-clicked');
				$(this).addClass('label-clicked');			
			});
		});
	</Script>
</head>
<body>


	<div class="wrapper">
		<header id="header">
			<button type="button" onclick="return false;" data-button="back" class="tbtn_l tbtn_prev" id="btn_back">이전</button>
			<h1>조직도 조회</h1>
		</header>
		<section class="content bge" id="content">
			<div class="app-search ac s2">				
				<input type="text" class="input01" title="검색어" placeholder="검색어를 입력하세요.">
				<button class="btn-search"></button>
				<button class="btn-company">회사선택</button>
			</div> 
	
			<div>
				<ul class="tree">
					<li>
						<input type="checkbox" id="root">
						<label for="root">SK 이노베이션</label>
						<ul>
							<li>
								<input type="checkbox" id="node1">
								<label for="node1">홍보팀 <em>100</em></label>
								<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
								<ul>
									<li>
										<input type="checkbox" id="node11">
										<label for="node11">홍길동</label>
										<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
										<ul>
											<li>
												<input type="checkbox" id="node21">
												<label for="node21" class="lastTree">node21</label>
												<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
											</li>
										</ul>
									</li>
									<li>
										<input type="checkbox" id="node12">
										<label for="node12" class="lastTree">이길동</label>
										<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
									</li>
									<li>
										<input type="checkbox" id="node13">
										<label for="node323" class="lastTree">디자인팀</label>
										<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
									</li>
								</ul>
							</li>						
							<li>
								<input type="checkbox" id="node2">
								<label for="node2">기획팀 <em>100</em></label>
								<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
								<ul>
									<li>
										<input type="checkbox" id="node21">
										<label for="node21" class="lastTree">node21</label>
										<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
									</li>
								</ul>
							</li>	
							<li>
								<input type="checkbox" id="node3">
								<label for="node3">컨버전스팀 <em>100</em></label>
								<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
								<ul>
									<li>
										<input type="checkbox" id="node31">
										<label for="node31" class="lastTree">UI/UX팀</label>
										<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
									</li>
									<li>
										<input type="checkbox" id="node32">
										<label for="node32">UI/UX1팀</label>
										<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
										<ul>
											<li>
												<input type="checkbox" id="node321">
												<label for="node321" class="lastTree">홍길동</label>
												<label class="check-box"><input type="checkbox" class="checkbox" disabled checked><span></span></label>
											</li>
											<li>
												<input type="checkbox" id="node322">
												<label for="node322" class="lastTree">이길동</label>
												<label class="check-box"><input type="checkbox" class="checkbox" disabled><span></span></label>
											</li>
											<li>
												<input type="checkbox" id="node323">
												<label for="node323" class="lastTree">디자인팀</label>
												<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
											</li>
										</ul>
									<li>
										<input type="checkbox" id="node33">
										<label for="node33" class="lastTree">UI/UX2팀</label>
										<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
									</li>
								</ul>
							</li>
							<li>
								<input type="checkbox" id="node4">
								<label for="node4" class="lastTree">재무팀 <em>100</em></label>
								<label class="check-box"><input type="checkbox" class="checkbox"><span></span></label>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</section>
	</div>

<!--// content_wrap -->

<script type="text/javascript">
M.onReady(function(event){
	var $address1 = $("[data-instance-class='address1']"),
		$address2 = $("[data-instance-class='address2']"),
		$searchCondition = $("[data-instance-class='searchCondition']"),
		$searchWord = $("[data-instance-class='searchWord']"),
		$searchBtn = $("[data-instance-class='searchBtn']"),
		$searchArea = $("[data-instance-class='searchArea']");

	var willIdx1 = 0,
		willIdx2 = 0,
		willIdx3 = 0;
	$address1.click(function(){
		var $this = $(this);
		M.pop.list({
			'list' : [
				{title:'서울특별시', value:'서울특별시'},
				{title:'인천광역시', value:'인천광역시'},
				{title:'부산광역시', value:'부산광역시'}
			],
			'selected' : willIdx1
		}, function(value){
			if(value.status == "SUCCESS"){
				$address1.html(value.title);
				willIdx1 = value.index;
			}
		});
	});

	$address2.click(function(){
		var $this = $(this);
		M.pop.list({
			'list' : [
				{title:'동구', value:'동구'},
				{title:'서구', value:'서구'},
				{title:'남구', value:'남구'},
				{title:'북구', value:'북구'}
			],
			'selected' : willIdx2
		}, function(value){
			if(value.status == "SUCCESS"){
				$address2.html(value.title);
				willIdx2 = value.index;
			}
		});
	});

	$searchCondition.click(function(){
		var $this = $(this);
		M.pop.list({
			'list' : [
				{title:'조건1', value:'조건1'},
				{title:'조건2', value:'조건2'},
				{title:'조건3', value:'조건3'}
			],
			'selected' : willIdx3
		}, function(value){
			if(value.status == "SUCCESS"){
				$searchCondition.html(value.title);
				willIdx3 = value.index;
			}
		});
	});

	$searchBtn.click(function(){
		$("#nodata").addClass("none");
		$("#yesdata").removeClass("none");
	});


	var isOpen = true,
		tmpHeight = $searchArea.innerHeight();
	$searchArea.css('height',tmpHeight+'px');
	$("[data-instance-class='updown']").click(function(){
		$searchArea.addClass('animated');
		if(isOpen == true){
			$searchArea.css("marginTop",  -tmpHeight + "px");
			$(this).removeClass("btn");
			$(this).addClass("btn_tab");
			isOpen = false;
		}else{
			$searchArea.css("marginTop", "0px");
			$(this).removeClass("btn_tab");
			$(this).addClass("btn");
			isOpen = true;
		}
	});

	// uikit 링크
	$("[data-instance-class='menu-info']").click(function(){
		var stackInfo = M.info.stack();
		if(stackInfo.length > 1 && stackInfo[stackInfo.length-2].key.indexOf('view_button8.html') > -1){
			M.page.back();
		}else{
			M.page.html("../uikit/view_button8.html",{
				action : "NEW_SCR",
				orient : "PORT"
			});
		}
	});

	// 메뉴닫기
	$("[data-instance-class='menu-close']").click(function(){
		M.page.back();
	});

	// 지점 보기
	$("[data-instance-class='store_list']").click(function(){
		var paramObj = {};
		switch($(this).index()){
			case 0 :
				paramObj.lat = '37.5291530';
				paramObj.lng = '127.1204020';
				paramObj.tel = '02)111-1111';
			break;

			case 1 :
				paramObj.lat = '37.5658380';
				paramObj.lng = '127.9676360';
				paramObj.tel = '02)222-2222';
			break;

			case 2 :
				paramObj.lat = '37.5072310';
				paramObj.lng = '127.0555320';
				paramObj.tel = '02)333-3333';
			break;
		}
		paramObj.store_name = $(this).find('dt').html();
		paramObj.address = $(this).find('dd').html();

		M.page.html("s11_store_view_nhlife.html",{
			action:"NEW_SCR",
			orient:"PORT",
			param : paramObj
		})
	});
	
	$("[data-instance-class='searchWord']").blur(function(){
		window.scrollTo(0,0);
	});
}).onRestore(function(){

}).onHide(function(){

}).onResume(function(){

}).onPause(function(){

}).onDestroy(function(){

}).onBack(function(){
	M.page.back();
}).onKey(function(evt){
	M.tool.log(evt.key, evt.events);
	if (evt.key === 'home' && evt.events === 'keydown') {
		WNLog('')
	}
});
</script>
</body>
</html>